language: ruby
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.2.1
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_do.pem
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: GY4Toe04u9t0SZS9KUJwowYOAS+d+RnQHIi0iYhxBp7Eb00X99aalsjQ/apt/NNwiSsYAsNrnBD8Mc2vXX0czP/bFhRko1ocX75q4qzlFWfccX7x9UYOorD5neTRIehhBXeLlHWfhZF07CSV9mWTFt5xo9WxHWWz4zihrL1HCCw=
  - secure: AH+bflyUHTYFZ8IFokFAgLTW2O7w72DxShIOJCFXPMEI/B8CC2posiAQOCSO8fLK8Aov8InhqD3UdP+Q5ZvszXQsd3I8exqCmkh2FJm90oxkavUgskmRJlC+heY8Cv/IzgHcNvJZI109uttw+aFczBx5CDcKWgnoSvNCQwDtm6g=
  - secure: SGd30mc573LxXKEmsXx+lg/XL6FOqRo/DH3YeNzskKmOD/21vZNCDPBMQ1CrSw4DWe7f5AR0lFclxXi0CtsewaMiPGY5BR/t9/LGRdSAbIR9ZYaflcg5VRMXn1gQ9xPMtTKX2Zku+GyrRjkUmHxIm6ldryzSVp7/MZUQ3eyI6fc=
  - secure: BTe0kS0wMLbnev9TXd3vbRFnm0iTIrNG1VsxWiPqlDisRdNY2T3gcTzLIkrNmK542L2PTDg7MDQL+oqnokF6b/FgMzayY5L73TqpLRztOiyjpK/4U7P+G8XW38aq+e5y0L/XknNgoJyrfXWhpNF0Zk4RQHKSdPPUWsCrUcWG35o=
  - secure: aSDJ9Fi8rOuLXzT8VV+nNMZd7S7fJZCvrJbX2AJKG860f+XWn1cCWhypLEJEbXJTzC2G4Mc8OiMsUReD5okE706BnePfzRC3qS484mHf/mzIcq7WXtVymxPk77i53P5KUVpxnYw3sccNMzVU4LiOThxvgFCs+OaVgJNjTcEoNQ4=
  - secure: d8qwdRcZklCXQWHpwkJKoJ/Ow2QtLU4js13TnF1M6kOrTSoHZ1v+Pp98D9wZe40MuInwrlytEpRbsWPvbNddfu/vVxzkV9VH1CD2P9cyhWGzmJkMTiiGaVjNKTKavqHK1SaW1ioCk1Qy//6NFsaik/lEcTTAdFrtyx2YYA6EBUI=
  - secure: hn3H5ol6zwh5hlqPgOouW95YF60WHUbcbHRw2TnsNrZZuNLN50pELlfylEkUtaUZhD26ixFLQ7oSPdhFcC0C6S+hx3pxl+qs/oHuYsT72lUJoG8sOOie82stcBnqmgiaKjPqI+cVqdebAnkK/tdnuGxd6BYLEA2AJ0B0G1XJ+io=
  - secure: HPK25YzCsEnptlKLi1u8c0Ry2BDAd8P7ZihC+VFpZNf5YHYjalgLUyoeMzOP586ktc/f4Iuk44KwOYBh6GSvb7CIrFeXGXgKkrx5hwcDp25t1rrsv4n/aYCwDt4tLSildZUNe34G/477VQFSoLbtuyyo/l8R+MBJh5NVE88nrWM=
  - secure: Zcc7umUZi5MfEzbBXCJ8aDHD2N31anN+NOcKpb0zXsI01MbVFGJnkp8zUM49MAmViztnI0W4VWE5jac8oLOQAwdQjbMOPsl8c5zG2rr/zYlXJInvVAZcE4ijLpjPQWWs9TxwrFH9H1yg1qjPUgOq8dzN3WXe66Mt/CXh7/DZ/YY=
  - secure: I0YLLtnPvcPuqnXPKQHu7LdMYWXYgPIwO+5KshZOpxfCGCLnem4qmTO0QrtY5gwdkmYQS9P2BAxkUJ9yu8vLPERW9l8gLWFEWSQbklLS1AfmuQt+G2dP+zASQbg6D+WqTaFFOTK7i45nqh1XnYGlflZXhv+FSB19DgJHajmuyc4=
  - secure: YqiDfKUjIG8uMNW95Rl4hga6cxFCD5iCT+zTd0hsT5YYmKNhMc3EYXKlPD3+K7tC2wOTbCClMeq4JZd75JwJ6w+pIz4jCq7WsD9+WNO9GOVbU5Lp4O6WW3LnxcdevFaucR0IvmHXep8uLZntbOpZ8B2r4ejkJZiLi/x1xxZ0nCk=
  - secure: hiqELbSDCbsMnDkoBA83uWXmNy3ezz28rWoX+n7DW0F3JhVIBXGKENdtw8tR2mqwNnNB8aX83Yqn9GVA5uAbP2vdZDKSlRUUiMcdKL/XXOAOCJbUjp+1ajjbErpJwue1dKo02Nph0hZXazbTSKxr3YVaafokz2F/ozcU+UVC+eY=
  - secure: QynIzxL584VaC6T1uMt2wLnojKs52aGQA0x0u1FjMI9g1v5xBWUVvNCx6z5+XfNyY6ipAseQsmwU2jHab68EWDSw0bOK73snwGh4Uo+bApucPj7j1YgQa3VQUv6qJXDhG70GUoZ6Y9wvRWaTCzoJ681cwoKhA/3igvVoSRCFOFw=
  - secure: h8m7ER/HDpNeyRh5LZHOBEa3vlJqCSdBr9IsRLPuxZzqwAoYURUgfvlY7oaUI+cgcsRhdI/CmDra4LNoAPD0qBN2q5zikjL3MFyGfhADvy6wrzAvjFeqGMi+RAOjLnjMeat0HgcZmMwMg3bt8ctOFAlIx/wl3y35xC/64arR13s=
  - secure: bZEKt2lO6gV+6Fh1WneWF5XMpcKTvyC88/OvkoA29sAFBe3NwIhdXXchqPiiI9m/ZnMvCQ0xf5sZkTQeGM3yGtiB6O/8fIiwOIRHuBO/R6kArB8P+20xDuTvInwtVMSVWUM5hkfI168wymUhYgrqOgPTMLt4qDTfXotlfkLBG2Y=
  - secure: YON8S5OfZv3+EwpnQOdzLQXeakdJ29hvAptEAo3ibOFgjGs21gm7SyJmvPn3/zmtgvq9nDtEb4Oe2bnnwORpbB1grtZXLJxaMiiRPsRTaRICZpApZLA472ByRN+UN2O/bwvCZ13yDSBmNfPlBrQcyWJLEdOTnW+jXgfrEUpof0E=
  - secure: X9GtuH57jpj92LftB722p2YTKdsRTSH704ZmLAHMCzY43DND7rGInoVAyCpR08cdsGAtkSekc7nreHlJgtDzRefat1RXLjxP5lxAyr1InE80sx6xtu8wDpCqiRuysrN5JrVKiL3Pt/cvxBXk4pygVPOBYl6v1I+d9fBosXsdUI8=
  - secure: DHs8cXv2M2EpCmCMXKcTcxinXHNniWyJwjBdS4r1CbrzVaYP4mm8xfNImW39ebC+URL4iOMgGFPLyBW076L/uiSSq5IoiW7ijnxf5R3OBXHnCzYKKdBfbvwvREFwyCl9yG3c4zvNNWhoZ5ydmvw6dZatnuPaO5JNZS3F4l5UR4M=
  - secure: jIDmLO4KvtL9Tu1U+HVKMyy3KwsZ1eA25xP19B10mBafGuers36jDQMQ0M4So8fbZzkGSaX7BV7+Deqbcijb/Iy5yYvwsFsqEgwWwfonQOLir67T9IriTN3T+A1DXxT7liD40/RRbzhGOPGeczGDlVvfYYMhTi7SofZp2P1K/kY=
  - secure: h4jWwlgKPXCw3eknzxMzs2Ju4r+c7GlIw+MY10CvpdwsRFtAVZr0Xdy54OPFqwEfM27tBYbWR2UJ5OHh6LEbkam+NV+bonIT9OpOWg+QY5xJKFFsO45FRb3lIBOlA7qn4wnfwKMCAgnlGdTIzK3EntiPkN73goYBl2pQjmwRz7o=
  - secure: Sz1m0lfH5rRrX+y1tFoCQ4EmC8RNaTacVamDuuFMA1M/t0hxByOOD67TIudAPvj+lawHsGOPk3LecFj4cQuXnaWOx9yVqagGJvqbWBb7ZKx1FBhj22667+Gih1HjICr3K2GqDaHOXWNNLqrQL1dMoI0E9e0oJt9EJU0Xti3HYlo=
  - secure: g+tYnXXY5h9p9qJ1uzI2owcY+wiGQYbW2NVuZluelTjBVb6moApaqUsk2u3NYVSMlroyYYEkii8Ot4Rj/W6ijuZWRw1HpJ4qZEqaspKwkzsPEQ6bq0uO78GLGrf0DutbeKf9EEiTpgeancQaMqXrD0uXcG7XQGQYuTADzkoa+MY=
  - secure: ML5SOore3TeLcMXa4K21c68yu2ZY5WsyAWDJxkxizvICjZpO9GDxFEVKn35HgF+dmFhh42dVAUzONth8uqoJGIqTSvaoLdKMCmwpgxS3YkTBIO+/NYM745QhZdptfgx211Dari4hxexoqpN42yS/2VHQvsC5u4hdBHyYAwpnjeo=
  - secure: QiUc7rs72RIOyzGmIxYO5eNi5U52I6v+EyxBuMB5E6wYt4rDLDC8nm/YMMgRDPqaQXX86iQxfPsY1fbugOfCgPwECQnspOb225SP52+Zg/4CfZ9fpYOB9bPUKMa8IapXv0w7lmP4qySD6gc/KExBzfaXMk/S8hwtSjeb1J27dFI=
  - secure: PG1m5RnGZfCkKJC/xA1oSiii8vYx6EiIDZcFW0LVQRDdfVlcUllr0SYFayu0W2fUFOJQpQI6qXTKGqbA8yqUM/SOIknhYRpAsogJRxrSRnCre3S/WiAG47R8HhJB2wRXrGXrrDE7Q0kGwVMjDPfHT0PORo2OQVA77li/TSmBv9Y=
  - secure: N2oHGdYQouY7r85HXxqbstM1DH6m74ZPdlt+bqeuDHrKyUkc/e7YFkIZ/fg41BUmUc3x/hMtgAV0t8SFxAHxtwDoo9GWIvlwnxIqGPi1wVdM9ea6g4xVCAYnzp77Loyc2XHJYaZCmVagD2vy8ClyCqAgB0CE0FXIvRQMUtfuIwI=
  - secure: hQOlfl9W4qqvHduYuQjMrwuJ+oiRJG3O/CCo03A/TSvhYLPWLirv/keWZ06E/6m+M2m1KFTbQmeFXIoLXRy0thskYcIoVITprnlraZ27wI8WFe+kIxbY1BiCzBo/XkMzA1l9zPL76dSg97f6eT1B8qeJb/i3W1w/XNzNhF5KFfQ=
  - secure: YKrW5ms+04EsgaI28xhQQlRq5fSz8VZuf7qnOCqVl1J9Kv/iJjLLps4JWvcVEJur245tBC/pMpyqRWOTFh07QO/LwogNjNFCJ2V2LtN9ejNz+d368rLxXBavjGqAJhTXDkg+a8Hjkt0AhHqxCZlwszIje4fwWhmfGVurVbGpA/k=
  - secure: LjBmrAjYUYuFh+5JjLH+aCQaRT/NMbJdmf6zrgqDzhVm+IQbaVtBSDj0IA8ZKJf1ZNEMD5Q6dv+Zj/9eYHmfzFLteiN9/nbFyncNVYw82sgzhk+SBCLJAuBZIVguEZEwX+AfKSZnIO5Q+Qp/m9Bd15SBCUs/iebJ6RlRwVkkd1M=
  - secure: bSW1vu3PsJoQdDLouhHvl3huM/pCiOrVGnOQV/PuKrd4ndaVwAXWxvRbCXywzOnlQ67SQBIEO5hR7WJSmP2wGhQo7c+KRTolGrBFKk72pRVGbPFKiqKPna2EtPqNno29JRVdZByRICLE7L5KEIfJj7UabJ1jBD2IRPeyj8odmvw=
  - secure: R1Yz46h1NNTl//oQsmCh9OLQLMMJmfazGwCT/FRicqVeCSiZvtJPT6+PECQSarBHCzzoBI3Ih8G2QVHh+NGjG5VqAJopTOnyL7gJwgOOX95Ctjy2cOUilqHxu9f8l3xt55pPysRxyXr7jtonlmBfCfbjMW/KRGCNJ4B410mjgEY=
  - secure: Hpvc1N8CzdT1pA8bdX8m/IB2AFWZvIkQLCBJ/SZt/dJGwt5+Y5q78YqfStS2+G8CTHelzwt3MFofrVCfoFT1qCbsEBm+hg4VTo1hTZiSTymW//4xAADJIAtnL3QvgJEA6BctW+cEKucgqT46GiXBMjh3/L3C8e/waoF5pZ5nUs4=
  matrix:
  - KITCHEN_INSTANCE='default-debian-7-0-x64'
  - KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: Ort9Jxk2Hdau/3CpVQfRY2s8RQ1fduQ+8mK+pKk0aVVCCQojjk7+WdgjvskJEoKEWKi5ES9E+9YosBAcnyYyVHG+pDRkeiODrgKYq5bgKLnoehEpSQmNJpGHKxHgPvX9hJOaElHI4rfWo4zStGH1G28+GIogSrICWpztW5sMKk0=
