language: ruby
sudo: false
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.2.1
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.digitalocean/id_do.base64
- cat ~/.digitalocean/id_do.base64 | tr -d ' ' | base64 --decode > ~/.digitalocean/id_do
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: jUM0CUjUZuxBHb1y0wlsv7sXj0dOOkujjU86R4ufm8ijA9Ai65eqD6gjL747oSGinWQazF/ugXSCr8rqa+fMmwP2vngt/8FR+7JaY0V766Hq6eSDCGH9Sc+hj3anJRhZ7FlDuqHTWjrED8ZcrSA0/xJCUpR9t0ipBPTFz5mWzQg=
  - secure: a4YPs92ew06xWnagZfhm7uBfJpbo7cLEx+GOEG3qfA+7lbsuvumQIIRlyhCTwwimCr22aQOSGN8FRQFbUIQ3WJyFjRSCl15+F8KQSarEMA61FkEhVz+gZfoiVRAoZlww189fkjcOia7lLhKu33bAOLiwInvoOuBu3MC3TF7mA5U=
  - secure: ZGovgwsOrnx2bLhaPASst7jezTK6KulCt5OjX285FwA7wdmWmHkK8BHr8YtVhieWDy/mz3TpaWjz+t4uA8erRD+gRZV+JqcByx/C/7prrRnkFbXHZm5caBNpqxaerLHMYm903ZrKKNJZ7YlR5kMOAORqTdGi/kHOS7pznqyrn24=
  - secure: M+EViHubGJ98af1W6ierMZxQOddO78fQ4lMbf9NIcdmJKO5sRqWgIRvprzOK4nfLCJj6Nan5FQ3fW32YKiGPOHDWUpV50KPDpXHmfH/KbIHSrCX3ffNlpuM1Nv6vhTHlOFUOn5GUX5SSS6TNTpBtn/mDJuBV7wUv3dv1AQXot8I=
  - secure: NHBt7GB6KtDlfUCvqVxzcjukxRpSr+Wjmj3MbLC2NRr2RWUtv9TVnlPR/PFaaj+knB+1sFVHnCvvsSwR9iAb00Cd12kxzFYRWAdTwBNWhjyfVgGa3ElyW+1kR2/t5owF+9VWjJiFgc7Ng0iCOSlUW5LawEzEbFI8PYdsIuChbmw=
  - secure: AekPPUEPBlFgTPAtEs/ozPw0X7fjnwYzs9C8piaS61FMQwqU3mO/stsxXSbUz4Lj/G2CISkvRtL+sIasER5DYee57iTUCHuvrXRpi5Jopmml5aCm8W9D0LMfjewBYPhUyKiO3HecDaJx20VrYyjkV5AmukjToFkFYykl/nnGP+g=
  - secure: fN7vqOjCndPc+l7FfSAKr/QaDEM1JQzSeVORk12wxqFK9QplAroiOnrnJ7n6rylvT+qGH6gYSBnWdNwwoXODtJAohpqIHlbFd7xiOdAJ0i9t7iNYfTu9QLU93p/xc376S+94+ICwQqhFQo2UQDU3jTQhgyNGkAZzYiA/R4SClDk=
  - secure: P7xHiyavFg+wNuwX0uN1G9WTidGSfrwYz9WKABG+u8HDeUcY/7eQCgdKEVk2u8t9dPHruB9eDoJz2BKwH0GmSXpgtilu5pv33tZK+7TkOnc0He+S7ZCKYHxG/NEM0fJrbmLvkBApPUqMoGL+1wim4gjp821vY0GJc1Y6scLtv5c=
  - secure: g6T5PeHPXdzd6UIq62wjAxpgi4pmnUSA9GJUZqa2FbfpN7x/Wtr4uTFAhht6Gq7Kc/l4nqQdE9h1D5ChqqDgC0kG6SyY6sCbEb/rKCcx5uuifZgT2vizUiZagmjVjsPq8TAZ4OlFDVl2btNOqSPHYsyOoC9vK+AkqdSOWQL68dc=
  - secure: eW/ihpvFQIfcNfQbANJTYDow+I5LrqUyeg128AZ+FcIvC0NtwRls712W2tgZRYK1+pao4bsXQThByf5XWkkd17Y1O7Sfi8W3RIKazCOp5m0sogjkVjIUiMFqHrsgDVnrdomFWnBVlEEua3Z8OUZpOSdyD4RX203JoQ7UlWMv3IE=
  - secure: XXeWJOuHkMybEyLcRadBNAl2u72ahoSGimXXGXWxaM1oEFZQV5aEzDK2/QhJkMcoLghhLQ6sNwMM2rJWwVGRxj9UHx8BHom2HnObGYMgY3SF2iFLW4NDeWPgcNmCP7cKovxorMhTV8vHHuZIzUKT5cI3aypmurtvY2c8xSSgiJY=
  - secure: Ubm38gNYTJBPVDVqeVuyH0iUvGZWE0xqV0JfOjwsHWw6TKLb6JY5EFTxFS2Iwu6p1L8UdIpUVOiZCw2ulKtg8WnK8TkE9dvsfnRe3UcWETXXPrKnxNepWbJEkLkhZD8KDgCZI0NQKZEZ1zxCG+6WthXicnjOnv2HW4dJDu7eipg=
  - secure: HAF7z3cDVCCLk59IJ1sjFVZJ57igHdkFKT/JPV3uMcoULDv27l//f8S72oVCOabwTI0F1MT7atphYC+vDHLB4T0xSQFJ6aHDMVcaZwe+zS8LvbNKFlpV2JS1G0na9HOxDfU5bafKgRxVoVJnuTUwv/qs6GoE8CXMD2UmlkANqmk=
  - secure: dEGb0YhgTH/awR+4nnFwWoeWfm/WjjZv29gHNcXh6HDmTmrt5qj/DZEp3iBklMf9lyTYnzfYmkjc3+JeGfNvVEkwZi5KjyRHIFZel2py5ttbJ+zcDvcjCvfvz6QwnnHqemIJl5ig9wZBTR/6mBKhPC3ABd5ukRl9lhwzr/SQTaE=
  - secure: MBWb7KXGfd+pqAKLbOCsgH1nWy4+B4jcleHVdoc30PLuj0l1mDdVIiFL21BlM32bz5sTiy7Rz3JaQ4g3kwiM2pUPT/yKlgf4LDJRzxX9STvCU6ltkVA/z8Ds0UglavsuoX2MOE3Bk0JzwGpaxnBy4QrPcaLICCmqGPme/+hUSlY=
  - secure: S22FnVKGAxrwwpvaCzMMEhL/DsUav89cUIvsy5/j54hklEXS1GRBdnWcdutJBiltg+mv1ctIuXwbJAc141xMjCQ7zBdCSE0L246ZJZ7wzdD4pzvEtkg18IEVuai09AMNKsb3kEGgDD4o+wV6gh3jAVycVaTUlSXiiI3IlwXxhfU=
  - secure: VRDr53XHjpBIiYOBzcojIE+iNC8VE43lf2KvvTV4dcol8dxwcbu2ZPCU6YLkG+SUIyCI+sF7BXx9bv2PQOSZAGtXB+WKopeW4S4luG7rGaIwbodPlrj04hUN9Z+Mub8zDUoIx0v/hgo1f+dT5W+oaU4iaCWiZ4u3DrMZeO9/wR4=
  - secure: Ht1RYjepGQ7GdCVEU+QDgWIwaUaCsHhEjf8qG973/wmfDLHgPsl0frvLGwSoulBLv45AHZmrePVZLVZuB203zgaAptE2KD80J+CzP1y+C7O7g/l52lRjZeBJhyQOaaiEsOFBn4W8iOXUUvL3w7Zwe6GJMSMxOuDl6Q8dzM4lb8A=
  - secure: haHWxg8fpdvtQk6OFc8VIkGPXx4SQ+gB0ZosM7ZLmflNOPPmkECziR1r+HrPg0stu7dhEVHcuPcr2+/CqkuYfahoP63i1IfVxNiNDjFuDG5VZpe4XzvSHTOHFQycm9CY2hgN0pJ8/QxyRs3u1SSnmx3r4lPzgZcZbqdlKLDw7bE=
  - secure: aqPl1FoiPGJ9+Tfz+ZwaNRV89Pu43vbw/dXp7IW3M5AhkmW3LYcL+/rBYI4ksoo5/9xRxqYcoPH6RNEksubj09UiF+eIEB2/uSec3zUsCAhAFf/wanjpCDBu9yNwWrsKLaIbknYni/nFR0b0eUtT8qUpH2sBhvEyTaotFrfZBFo=
  - secure: H6jodfp1+cRy6d60hNAXlez1VEBRx3lLeLv7swfFBxoW2Exr/VonVCWq2XQoSY1UZby6RczYSFJO9SpyB6TyE1/5YiFEjRtbpR+6pQEta8036yv42HuEpHqEQlKfAL7AEwdFzImf8eVATrVZsW58bhmElfAZqfhkySnCPuH7WkA=
  - secure: JOgK2zfaWMTS0NlvbTuJ74MW/9IKEqTqGYct283D5jPv6BzlprhmpT6CG2PJ5NcEy18Ttp6YrkC4tnrWAJw6I2Z4SjHLc7N+zXN1v+UV6SlKgwivsyqDDW5ExqxkwYw8sNCvaENF4neFx95nHp/F0O8pr/4iDEXg5GRb20ZQs4c=
  - secure: JjwTR7x64jvdmxsmW0t/UDsxgWCaOcKfYeoWicx7UoxuFHh/Qs48ggui+i4oZMr6jkYp15e8IB91sp/4ojM+ZkpW47n8l4JaWmB425txgDzUtw82C2JQONznblh8HdR9cpyK4OE/4EyD1cDHS9Dshs/mz8HLN2WSdzzLzNz3nwE=
  - secure: j9/oa3DOv+8qBRMbRvRJSFYO20lzWUv5z+yFg/CQxLmhODVWMHz1e+YwX+dYB/xVTVIgZE/SAlNKfbcDg/2OxEF1C7Qb19MjPSMIkOQXlnuzApKJaSEWqKS1gUXSAVrcrupZJbacBShzsGdjhyD5FoxoA6iBfiMhn2j/ovuuoRQ=
  - secure: Zqzly7g+bqeCp0TILVOkOe8EN+B9PHUwCGJwrQGrMM/wUUN2WwRbG3ezsZFJJebYcPwY73OwUhcfan6UiH7Ih7PD77M13CqDmYkljj7O6w/oC+VkhbX8A0ewS8qPvdLojmm5iivLN0TapX6ZaJhiD4R9V/VexaT1NZmkgm1Z1jo=
  - secure: hDszHb865Dve856hhTD0U7H8aqKk9ua98+Dp2n41GAtcKf2H58FGOhyOFvEQNQe5lZ+m6UtwvkjKB0oLcu0sz8RVDr63Zjdtc9WDrTvzUW/nWE8oTeNH3ddtLYNmuGziFuMC/QOnBi1pzNgbdU+UFcO4ADUxXDG0Y582jiRzKVQ=
  - secure: X4i/qPUs6/+3zV5fZUymGR+pEUz3Yzc9OdZvdMUPbPCjhAiD2FJkpUD7iwiRZJk3Cd0iA/l5QzMPutTgoibhkVGqqLrNM8LlZ3Yk3L6wpOimdQ7SsLUnA1N0PdxFyAk7hxj+BHjKuQEdcuvLne/66bLIueHr9wxYl6qPRz9qEUg=
  - secure: J9kq1mRAWJUypoOkEOf6Iv2rWzouV91pgWqhjM9TdEZ4UiEZS/VgyXLAYQfCmkxdcRKAOLZGoKXzbDwxpLJ/FajwGsHlOq/a97US52QPv2rU3n035uPNZFFq/yxPKbNXoQzm8HDlyS02g8nFww1lzCWEMSzLqAU+POlxF5vf/zQ=
  - secure: Q+BpBFzmlwTaw5INJyJ1AwrqohtmuY8a9MUJJjd3BpY9TIJI7LvuOBghng8jGI7ZQZKVsYg++UYeDjJis26yDB1EbYAj9XScJL9CMQ19IHAi6e01rmbvXgWPI+TfIaiVCZ/phKWti5Kh7FUAw4ywQ6+t3p2uC0VLjoYNJCcwqZI=
  - secure: dhsmtwo4qxb/EYWc4mr50zoM8FjyJXSd5MOjrBlXHOOoTmziJ6KzioVYiy/Sb8mEZ0cZirFlCoWxldpkVDFOKr3tCkQgVoxZ2kKxZKAwpHDzqimyVEiQlFXcRVSneHYKH56b05ogZU4Tz3xrmHOSrlblrUEwqxAE359+EGgII8A=
  - secure: HtWBubkNX9j5KwVgrYoFYsQTh4QxKGzb2JtH0l5rbwQoVIEQCq+2g90RyeVcad56Ui6Pd4XE3CiMxwyTY2NOFTnqBg9npyJJxBOPfPHyOxt5/rbHYQ2RzVdsdS7GReFGNWpkAM5R6PxtD/P5qqG2TADRMIOFdV+XAmuR2lsJkHI=
  - secure: LO/E/WUD8P/cZWxxLWcwGMEroPxVLuxf1rvBsom7+IChJtKsiLqHRELGsXMLeqQVIkkeB0UzLl4vFsSeF8VZq7upmsZTkrq/tLkfrATOvd3REperBDqlVdqIhwzEtZeKxvbLCYYPNNfEWkf+ISrwxqXi8VP/pmV5KwdhLW6uQEo=
  - secure: TikMQU8l8MrMXokgX5yuqzUcrpbeJ3vV8f4dkJfdnwTq8Bl28hLd/FYH+O/KNWTAn2oazIRnyjf8q5iFmZP5fc5yMcfvflGWQn6DA6GjVzQe3PcMQDDTC7PxRh65+i6BqMLrmwd3awaewcuQx12y+EoHYLtgP5VRSyNKdCzrNZc=
  matrix:
  - KITCHEN_INSTANCE='default-debian-7-0-x64'
  - KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: Ort9Jxk2Hdau/3CpVQfRY2s8RQ1fduQ+8mK+pKk0aVVCCQojjk7+WdgjvskJEoKEWKi5ES9E+9YosBAcnyYyVHG+pDRkeiODrgKYq5bgKLnoehEpSQmNJpGHKxHgPvX9hJOaElHI4rfWo4zStGH1G28+GIogSrICWpztW5sMKk0=
