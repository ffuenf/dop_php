language: ruby
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.2.1
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_do
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: LZv/PaDgCIhXEw8kNR/BmyOWZ2A9+H+2Qoo7DEeP6dyOqWwlsiOSubSBF5kFjRxF0CXNAPYqKjYri0EEQ8j8xdlt8TIhhebt45gs2PUIW8b9Z1CrzrQlr3TGe2uzcC0gdhJFVzyQwqTEj/EtjUDlSrpo0S6s0dI94/+RvIfEaAA=
  - secure: MjBri/lb8q2WSMEPOs6Glgydb8g6NH3P8ch84sVk8obcQ5TQUQNAaH2XUGvypChpGg/8EntxPHo1tG0WHqKskLma+OaBEx82sD2pSuPPPy+W0hXNvjqPDQgL423QYAPLQ9R16BNgCvNhUcuE8ZJrXBQgY6YJVIxFt162h/jWtMA=
  - secure: j/wwJS7K5J1rV/jFB1QzVFmFfPvpyBqYRkB5hYc7qN+vV85qiZmqq8byX2/p+T6aEnGxT79uOI3+l7pbWFGw0jX9hoazp3lVHjmpa0cU2HfbmzHV7M2QVtS+ksaw540mKjdo4KaiAcMDDraAeFs+/+bFSg7LHwX3qZJIMp7fpcA=
  - secure: LrSUTkZkyQS6B4DLDTHXtS6ypMQe3cZattA0ctQyTKoSZxidYoz/IQNXOdy6wVljTca99XKNXp/YJFqziLXBPSYW9vLKvESOsikCVa4Bh93rBLwo0ay9+RNwLkuiAsRxqxON+uEHrJfCLWFVz4573erutitteJBeSK2ToQavqq4=
  - secure: NfZScKFXbLKwdfKEcublpMCjdJRtNR2q8MurwKhrcHTceRzkpGXOMEMM43w/xxJoRFM2i2CnnWOfIy4B5g4PVVWbKTYRdDCaJVEKewDlEj1aKcuR/qDWn/FV93GADexD2A5/NkxmhtQnpfNio9wpYvv7bW5M4ykVEmnl2BtzEhU=
  - secure: NfZXhdXe7HHZVawyFoU4z1nqmtSEZZLdVczMTzAZsejd6jYMoiLDudIdxyQqYouoFnUVGgeLkrUcK0BGUnHNMZsExIJnPCfMIKLeo686cHPu670Z86Y84EGbWjKSs9ok3bykr+asMDGbBS7ruW9tc468uqZFOemmhHXHD+0wWoY=
  - secure: NkktkGug6tpEl9E5c+CuOb0FmzBmoX3unEyEUJLHuRf58GsxrZ9Ga4gMHbJ3skJSt0DnFvj5DGCbOrIGQGT6KkG+u8VOgfuTkkSSUe4ZDuArhrP2bt8oTi40zMBB0cAgZFu7UuIXfY5kgX03bv0ECZLX6nMTJg+XeohV01R9ROM=
  - secure: PH+8+wEMe8upFNOc6PhKPpBUkfK5OFA8zt/mYa1T3VMzYn5ma3OQnG0tQY53MxUtuwwUTs2QqKtfXLFiqyUSgY/Evq8DWl97QIrP4WO6TN/IQNL5aSyLwUHGMBbTUXU+Bgqa1LQcupJHVB7bOVex9TYvuFqUv5dz45gO/PpfN/o=
  - secure: gfbylEVcd/XN/lLfr+O1eu9TSPoWKXRYP/+a+TP4sIOVP0VMdjC0w1uzNZEs6WDvtEcYrZFfT+KuHBs9InZnSzIoCnybjba1RVq0aQvK9ZMlmQwjkeO4hFepV3C0X2PK3KOGE2QwRCln2ncl81lai99wQG2wWIg+t1400vnVagk=
  - secure: QPTrrY9dMR8dfVzEG49CVPAhwoMq40jnapP/oEqpVBrpDZErIx2GAFUJQsiD1cm5dKwZu+/8KWKxeD6iYRGGwStp8v3pMPnU6ofYVxpNTkEt4VrYMHpo4V6LrAbvwGX5FUzwsyyu4QIh/uhYaNpHVCWvJh9/wfroPYEVGVpibDE=
  - secure: UhQY7R/joU1sem6L4fLLllRfG1/gA/IYCMZEMK+UIpXUOpvVdsO/FK6Bsl2tFNz/yWsG7UJsdVExAfOJCwrgoJKBQ2RQyz+0bXje+oojRfuiXYsaPpVaHFhkACp40mdO9i8ODJRrE0jGEYfuWVlnlSkuWyZR2Nz7BbL8yIVof30=
  - secure: E7TDFteZXMoi+7LhBiHjFyC7mDmq7MeYuYOon2C8nYRi3DyTmNm+8HQR7DLWcibWU33uFl5fJKFz+SlzyunoEGF+xkezkExRrNn6yF8uLwrNDuBPIwNky5QcUlY4y8tu59nPi/yQSFgZcln9QHmSmy1s9DRZDR4yayoAyVDgjLs=
  - secure: T0GTZUEahDA+iVlYbXwQtnSPCFsb1Jg6m5SXTiFZ94tpK+LMouq+qzZxffUD94fEQHaTFHJep5HeTazHH2BSsdKCd+fuoYCOa0+l3k9Z0HlUJHDl0wIOACOoDqA0j8m8JuDm6khglD4k9aPgbRmfr3xtbfWc2vBcQJFR5VVAVLs=
  - secure: LxYUgBjW6EGIYUJ02RqV7LYmVFnsxnsBKVSdkY174Kc023GAzD9ObUW1cz/UMlnRSHrfMAI/i9Hre/w0PvxyNRgDeRLwJhn6m8gD+a4AdFUVRs7hcKUHEkhXvuHa2tOK45/ZtNpFFYNVFQnIaisRmpiqRY0noEzDzIlJLXsjWyA=
  - secure: LCvlo9jYtwEGAKNoZCoXjWZZ70xARR+Jb+KDWSvVvh6evikRm4hfbwP1tJDJWVNgYqma2gGEkjt/Xbkd4Qmlqi/5zgBuIxx9SzGyobZKZQq71FDpxbqZmWqqsnVxVS4zE/aH8w0tvOfdtibVgyrmg+HCHEIyIXP0xTf/zP+U3W4=
  - secure: i37fQMht90ziaWCtTxkkZNe/ELRbaW6o5NrpAjLTOBoWfR0JyoVKpIWReACTgJ6Eeu3xhBuLbbAfMbHGtuNh2JGM8RDp9U5qCyU08uGF4f8ChsUfsQYbfBBWANB1FC3fw+tWoQQGFn/cJ+JNWzZ50Qrr1cSjQlsJ8DjcjDY4Eyk=
  - secure: j/r0ol1cpXQMNnI5qkiy8qFXjgF1jbh2uYVUdkgwZuUQrqvlYAMhWHFbHJVUG02jTNULjDLnH94kH6xrPMyiQrXAu7WUnae0BIYGC94Q3JySZUkotK8XOED1IpbdOw+SDBm0M9PMDb4/H012pt/ZyOYXMiqgjtybdawioTiu4FI=
  - secure: ZUiqqGWoFENpc7ksT7rB6xhXJ9gmnwEjJOjWJdzZIejQW/8aqpYvub/pSkZl+AMjyxUKBjwUX433/ZZihukOhTiND5qcVAIDBQfwM2h//75p0qE94lv0NDaHsp1QFIuJohEx75Tuu1Z+v+FgQeMGfveao2SXrL7cHxjLLLLka6s=
  - secure: hWc7gL3qnDu0RTpuv2/UX3+MnmP6v2X8+3p3NAsb8owBzzLSLzEbC4y3M7aNIrThVafEaCgM2r7DwiZ2iCT4I8bRyiG7CURPdIgve/GruW7uy1QeexnFeMRRdKfJb56uvyI8jtewcHEucsADsRV04+jIBzxbL8J3pJhdv0BnYKc=
  - secure: YpzngTRdPUBIOBB6XdgYdCGbfo5a0pYlVUuuP8xG3bBgeMKBR4KUVuYoRXHzJkgl3FBfm7vrhPA64P63WvjPmkTaJyPiN/sx0AhGqqYIRG3v6MGzbWQ+1zyGkgdS2/sF6euRh4TiEjPYqcko8XhMiIdm17EpZjiK86i9zRF+Opo=
  - secure: FMoP3pK5bwILTnhlWYfosRTwPSko3A4VJVi803XK/XRsPP2ZZr0UKBzBcObwvoDxZwOiH5RzGoyU4tn7LTsmqrKOMPUZ2VlyjbPOUuGQC4dZO4kUQwjfC9AfZxHn2+C8tYRh/kFEUWhkVZQfZ27QOAya3nHKYQm/cUOjo6YrtoA=
  - secure: jCCwiWKuTW0s2XeDMHfJ397IWEIXYplV8zo5uilVvZJig+M8eOOjr0fnNnHencRF0ksGeeSeg50dmFuYN3gWi1J6D2MZJM723DrhT133uVazzTl2vuI0OTuqSu1x8PT9F9MgWh2Z6p7ZJSVhvClWK4ht3pg+69eamRlSs915jyw=
  - secure: JCy+mPW40QtqS90OTcKy0KasBfHyHWutMO3mOShJjtubwMAxbZwkKPfXhiczOMIx0+tBo0yKAErNXciTjJH1h4+cWC8SqOv1q32Fm3s20+VwbtpjMGNEwwfEdEeNERh0XQKTWrRw/6FZg4x2IhnLCzNSfDdPjzZmFjS4SYDeBCg=
  - secure: YI9aKMrm0TdhUi6H9jsYVUrGKFpBImJMMO6FVnepZZdqrHr0gdjkONNQvOUapBqh99LC07JWFrhBmhmHJm41KSWl2dFxVbnJqH/RezlkjpLLSFtjzLJ5ctadialPnUjanDDvHLdhBTKfgjVFeZ4oDa+KAJcXiLSxp7Hr97rX4gY=
  - secure: a53bNGGNseh3oVUyqThMwyJb6v7GpT0wMjLFsy01/QFTl8RLWSB9xxivx8Abd0467rMt945uKag7glYh+/AxbuELyfs3U+/Clu1fdiHfVcOyeQzWbsGDmqamXgSqQzyAzSSBb1rj3swx8h5nrxzTPH0KJIm5Y9sQWQR6bgGzbeg=
  - secure: NHYaZTBl2KqPlYOmKZZQzSvmhcvrZ284ly+SA8BfkD0zk4mnM5wR2W+aM56WCpYGlYJkiot+BWCUTJMrFZGMozm7rS/gPbVf/R5aNRVPQe1rkS3Dk6OW+vNYkpbRXi6HkybN3ykQKOkIlBGQ0yeO5EU5tS5gXLGZx9mukrXCFnc=
  - secure: EH1Eu+qkx1TC9J98xj2H2+tQGrsIoPrWWS69hJwRFDVFM6NaC69Ic4cyLZChrK6TwR9xVhEEWmIVdPQGuK5BK/QEKRIjSQpQoNaEoaI797ftX6Y17HyIvcZflHQp8m/7c+/9jX5ALrE40ec6jnBI4TE3rXOUbeLgt0qqFACqi6Y=
  - secure: cp7iaMtMbjgoD7l6LSg25XwhFUeCvv0vAFop82FuGjjorJjk4I7BhhGL1cWJ6OOYBsLMRITG91Tzm+IHj3oHh0ZKznk2XXeFEEj4uhPUfvOP4Z1KZjMSISbRj/RZWbVBiEwzv/TF5DPUELnw/iLKRY6AUuTrVwULeW4SOoLSsME=
  - secure: cdvDK3W4nthVTEdHLKuA06xuqUzAziowZmsPUX8Hgd/u/ln8a5eJcpBmR6GGmE7UvNKqFiYIS1cFKPKYH4Ifsd9HBx308/m1CVKV45btBfajyz9abT4tW/WY9hr5FBD2A9RlDojXdcDf/JVvanT4vj/0EpOzLGF4T8nGCrApiHc=
  - secure: N/CrXkuu5NEGmqx49Xkc64nl5+QWI/dHRh5+8fobMIZdK2CclzdgtB9CZupgV9miVRrl2i8Sfu3aWnMH1IOOjoN52mPPnHEpsqeAVIbDvAvxpIuD/4vbWd5yeWyS1MBeHh24M9OdR1pdLzO9hWlDMk9lvp0jH1yeJHkj+sTjZfg=
  - secure: escGBZT69C4uz++0P1N82oCvdWT9JmS0WOr3j1fcaiwRqiVe7P51DAl6HbRXQaet+L76g66xznQOjNpRcvO/Glrayv8IhISrf4CimRVp3jylv0fE1WFK5sQMHEvsgwhrQYc3vzroB0R7xZY3PpBPjFXVUzlDANj90s1s4x2amyY=
  - secure: LsTXMl5XHee2OBIcpBwD66o/Yk2ZWehIjU1fyiEO9+pedQ3X62bqsyWLUQPZ1lmOfUqFz+4tAifcyqFuUzkPtJoxQZm3pDXhpzonXwszbMlD3q2X3G4+HebgthJqtW2jr9x8mHaaIETdpdvy/FeW2qM0NmwuqrbvSpy2EBqs9tI=
  matrix:
  - KITCHEN_INSTANCE='default-debian-7-0-x64'
  - KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: Ort9Jxk2Hdau/3CpVQfRY2s8RQ1fduQ+8mK+pKk0aVVCCQojjk7+WdgjvskJEoKEWKi5ES9E+9YosBAcnyYyVHG+pDRkeiODrgKYq5bgKLnoehEpSQmNJpGHKxHgPvX9hJOaElHI4rfWo4zStGH1G28+GIogSrICWpztW5sMKk0=
