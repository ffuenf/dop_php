language: ruby
sudo: false
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.2.1
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_do
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: Ri+mq2a4uKgJz8YkUlwjO7n1zULIjzGI/nlrp/hTGj+LRT5Kk2UM1d4mrbki+xRdrXaaT+579V89k4n5NijaAEdmjKrBtunWyxOqPLN2VAve4x7ne+VKwduPEGANLs97Nt312U0sTo3NCj0rSjfvdTstcmMQfg6UmJCYNWFeaYM=
  - secure: fQgex9Yf0VOihQQupQb24HfEXtHfLWMGVzcXGZ4ThBaeBSU9eC5Y+b9UTHhPFXvxVE5CO2ezOIKGtOJzZPpWouTkXRBsPJTNImLTiDuMhhkKj/5DwfBkwC1nbpkErTMzjoqsBlbSG0qfv0xZ8Scgh9GxsVtWha6LCPbpzw/eXuM=
  - secure: ezkD0A6uxUi30KB9ZGHzb/kLjXZz2wA/3DxTf33Yi7l5SaYkSL98WVk5ZeDHbBwlgxAOwicf7m1Vm1ReCn/kQN8hzcacmesRN/NtPcvx+D0CFUpyYPPhsbPGPO8SBSccWLwjJJJwUjq6qvTOpFY8TpfDyyhyAZ+mNja2dJjzUcY=
  - secure: Fqh4cp3i7hLNi1MQos4JUDpih/wu/lDPPfmeReYclP4OtNW2KS95hD76shsJiPNAqERxISdZtszMj22hQqT0+wuHmt5fbzYOlEGWSOJKPYtIZJ8+5Ut4MlGGL19IxEUjXCzGkT5brYRmEW+ZG+gcSdRtMuwTbnFlyF9Wv3Y+l7U=
  - secure: haUT9pXDWkl8YIIXo2P0CzVtl4M7/KGUpg/ENmY0zB8xntNSVqLMZMEn+umjMdQuS4RhLS2C3IONSTOlMcqKLctID2q/kw8kd+To394U1DsCx5/IqEjV942IRlbEkK+CaUE+Yyy436t5/0zco6QuCnAbr+LpjHf3OIlUj06UKO8=
  - secure: EC1JNaWHTazKgf/2gxQlkj6obCHKJkhPUk5hw46xfqGdGB2EEHPAww73sFihD5/SeWx8JF1vFiykDYAHYLgjPY90g+2uHgYJAKaGD9jM6GqEIv9E15AaCu3XSO6H8xafxO9SwV2Wv49wGL723jOZz9o1Gj7dVhOb9y9Tk/unZcw=
  - secure: jXgMMhtQ60FgDhtCu/yGjuPwMjY8JJ/4yEkPOnUuwoHx9PadVsZvsa9ROv+vVtK4Lhzf5d/S2gz2d4EH3Qw50Yn52WSK2+EPuO+Um5PyPW+Glmmjp3qL+6ZUUJ6rRUx430CTGSUuJDIArV26tT4NU59LbmHSPy18XPM7szKSc1g=
  - secure: WsXL10tpGObX301wHkWL8FWAD1a1lnX9DjVVajeAb1npUKdwo8u1T5hLAhmEt6IDzaE66e+K5QuK9v5a0LAb8HvrP4ZqPhfUSQKnYgdRoKlzznfa416VcIc1s+AXnvxoQbSRqexzDddOFnpxVDQ9X0yorztdq1wmrxS1P0z8u4Y=
  - secure: adqJHCH1wNFF4ovda/mKGlMVmV7Zf86GpIBTQNcgkD2+eaKm9EYvXqn9c3l5pbnYuuC41Jge4N3mcYcQoDolTnkjL6XXDzNkLB/omjaEXRn0W6ZfZ2T+OgQzI3BwE+ALpUlIWgaCMO/8zSm54kU/9TiUVKsV4RanRC5UOL59lUw=
  - secure: LV7B8VDrGDslCBgIDk/7m8XgGctI3gUPDkSVrf5lVNFe+pVhFGNPbQfwWE2JggU5xveT7BjRpEtqoSbfJcjxcvHhW0vENrXS9t5E9/Q66a7oXU9LizpbB+TB5WfGWvzaeI0i3k8i17P/QHtFxbUuhSnIli7y3Qans78lS/G2pQ0=
  - secure: iTWOx0HD4URfHAoN99dXz4b5avV1vWsY1wP7FqpYaZGgSY/ggo/kt0mPM4RjLWsyO7vACS7Ixra3eTHBn1UKiNyM+mMZLCAdh8ahk2x1qQUmCdbuCdHfRsxEzlF4EepC1c7h3Jjb3B31im3uogGDxwxqmoLJ5lLNJzqnNVi2flc=
  - secure: QQDFS0tafLAr1UZG363doK7tkIfbVY5bedEwIWHkRwnNPfrBia0bZm1gRZ3SvynwS0y+wr/gNlviE1iW7cP+FTVfTvp/3+VlthdzetTDdUb9QXIKJfD//IqMrHW2Ye1r33seuMzXWbSEwiOae05eZY/jdoJz+EakOxfS/6IhH0w=
  - secure: eoUkCIRnM1z/5hw8gkTd/lLrse0jyFZFqCtnyc2fVCCeDXHcCP1CWhAzRFdP5kkFpWQF11sE4pRYaeikVpf57DqiUZV2IVp35tyy9z6832RQn6XEbltA4KtgJuZGieFLCV9w7y/uyYv4y0KIgrUqbHRjnx35OuqtHJNshJNwqAs=
  - secure: GOgzQNMpMC34I6nNzRgFlMImzsRGqKZ85B1TTTpGSbD0chORymmozzkA5hHjWDWOD42+GALiUVYiwFA+apF+/CTmQjmVumlar53ZqIBahsfrif48edNzJ85j6vs9zW47t97BdkxsRqC5OpDikmdNPFPH4AD6auDCvRqNJwLuqVc=
  - secure: LTcGF4qDuHGpzF1wxfVwaX+BDUScH/zbU0kStTaARzf9VPDbywuJ/JU8nYgFDNMSU+h2RmPt83/97rGjj0ZWtUDVrienJ92vZWWn45JyjVzj/unmGx2pLO60QnHiYrfeLhawBczm5aSGgVZ5Mp23OLIb8yqfnZ2ou6K8Alj6cB4=
  - secure: BlYY0ZnRC3FpUdh4iIKSWQgS3dx9kEeg9t4ancSNo+zGphMlmntmouJSe9/pGGE2gNkK4QPJuT9u6NJfQmHLZaOmsFylyQ5dAjecavp+e7ad45AHKQVn3PHIHpfyIrMaRp6AsSqNnoxK/hpRNygZs6ONoX+kj9QOq8NcugOg6qY=
  - secure: NncNMyYXRkZjbThT5q93MUge8cNvU84ce+N9w49x3VTj9QxofKbtWnn2+9H9KCz+gO8VB8OR1BnJMrAZcwLh1jY5Dath3uhGgI9Cf0PM8w/bczSnWJAtUR17JQtY799RcfzWdpGtK6F3Yl/A07pbhIRIhnwxc73z0piOL/JT2FY=
  - secure: edq6wr/Q45VC3XX2LYL1ydrCWHEqg/uhMn+5EgM0ih0lsjBk9MtQ3DBdFVdf8f3bs5z73MzWo21+vEvIc5kmfW9MNAPJPsW9tReUlRwh7Nsg42Kh7HNe+GOlhzofdFoswy0So7/sTlTo9bJosuJm41Y2kqqGfr0EuBCc3L6Ovho=
  - secure: G6MotB7dfPh3WtpJosKIFxlrFcxusVF7y3JrlsqheGF0kFtwOrUrpXc4Eq27ADk1IkNpInNgNzl2uHdarKrC8k5JT2Sr6SKbr/o/MehezfuTjv4iT3XcxpKvlWYAh7rbM3WZ2A+clW86DuuMnhx4BKKBiv50SyBcEbLD5f+XQzc=
  - secure: XRPVNxYxiolQYc+NtQI8kexjKLkC8YulChu2fXfO3W0umgqYL03ZmedCjhFDI+Pnmg4CDHz/zO6dU1ynUBDBsDNsrHANA8U4i28JT1j6N/FEpO8iDIps5b2m1IXY/afJVWMXySX7ytY3IWqnQ+OSLCw6PC0Ww+B0EpHdC3ezNIU=
  - secure: JWiDbISt4jQZ6lp7LL+8Yxn4xlgkXb5z394jk+vi4idAWU8090Pjwzz1sTHCYy1eogM2asUI78LpHQKkaAKUgaKnSXpMMuuR3stk23T3rGWRVQn/+sdXNJvxe07NYaQqvFApdwMWhMSUWHkrnYrognbacHRRvHVbsuJWmoU+tHY=
  - secure: hjRTIEjKT6uslElWaFNBHX7cagmEoVkH9YU0ZUWccdjSbMnmQF2uIqZuZ9pCQBYZe/yiUvWRSVXzwo0uF7lG3lVwkfUUJ8jpdzFsRWgTkne9CZftO2xbxxtLt0gL2GsUPn3kyVaJAEKuadQJ8o6WEtN9XlfOweCxcwABITMVkdU=
  - secure: YvHNk+PIItm0k3i03iwa3YxaSLhcMCHA3OG+dLF/b7nEuwgOYNoByyxHH1Xkc+0S9FXlOJSnhRFvGMtTon1jEntd8U1HQ0Vh/84IYvp23kSDkSJKuvMbypb/xviAcSOtaJ6q9o/dR+8NZ3Y0o0mAs4i7ZCTL8olPRg3po/b/gJA=
  - secure: foi2g9w7XYhIlGAPf+dBw1xoWVKP2ZWwqJR7K/kqkB9DpOTPQoY3kDdj8HjgrnUhlMpFnD5p1//v3BXsRgyHFvORdBrxys4qwf7WJbXgzBFecDwobnySvT12Wql7SDvAiF+cL1RUzKxL/vHldwPFKwn8q85gHxBOpMyLlEVc7lM=
  - secure: KGGyvY/fTPgxCj5mFFKuu0is2uu6TJjMURIGGaotDg8OoeDy9O9KhC6h5RyBTHuTr33YuXAASPtULB+qemPWYE4h8t83MmrXeROO8cxhV40dEJmbW85+dotkOVmRe2dr8NX+4ovkVbdI+wzDYvpjbMrK514ZyAh/AFonDILmLuA=
  - secure: bNLg0iDzVBVGdWhouxIr1vCzgw88yubHjkBdWCFdWuH3JCkHY2n/OWYidA6KczDMdnvnfWdRNhjKyeAHas+S3qQXlPMg6qMe4LJ70MpInHkb5uTO6N3a7RtKE33RDQ+NdBKUaxVOiaBahg2QgOXMAib/+FJVJTzdYVJs1PmRLp0=
  - secure: XoVUA7ITqwC+57YfDX7WrSOj09Goens9GLQPIWGomJS4hqNg2JAOLsqrrErfNn14BNc6Cm16eTjSzGHE/7pYXOJ6ip3gzpRnxIvD85goYBqNvoMkmgm6VjWckcgVWg4o0fYokzkCdS7MTKKx3BkEwT+VfMsE1OMW8C9qRPHCt3U=
  - secure: BFV4vbX9bPEicKsZMiM1Tx2nMASbDzDY02hgm+xZxU8g8DIFcMS4xtKI5Ons+Dy1nEHX+X2z7cxV6wnhDvzMu0YK1+m9O3zgl8Whcpbv4AmPNKf94OYpDcCayCWWDmsPyuCSy1qBip5yKoSkP/UH/qENhEZlqly0W3V8qZGTAsg=
  - secure: dUxH68mNXLMw3yL6ReNBgDAIWNY4k0XrQ4yZvCndM6Ggz8DFV+5IO99AlmdFbfH2vgjQgPLH2PipMvbu7qSsyTL3NSUAYyRWkni0qMrBlNBhkGvCoTCqTS6s+bDqoDrCmEYnlc/F9WW99V9klUfc6UQESDVrVrbr063K8dy+POY=
  - secure: cWjUvuDj5y1ROUTfO3qFfrFwzoNzuQ3EmoRx7x/4AM4yCN+eQxixA/pOr1jGZTC6TKQSFDfPDhXnkT+cWaeZb4ukQc9QhyQwASDTWpepzbixB5OHYfpujlfv3ZJdqeNSbrFpalmWKBmk9Qyg9Mzwx2o0b/GLvl43zayCOu5O4ig=
  - secure: bH0VgTWpspMg8kNJXogvYBk7/TH+7n66Pa+O4yHRC6Vrvranh5UR8J7ZtdX54ZocCzbVIIdwxsmCCC/0U855EZvbBkEO80ug9sTMo9cdVwMNiJYY1RH98YoyvhFcGN5tB7kVSL5Bu49IBcufN+YxA9/fKt/l/LnBK6Pinc3jMgE=
  - secure: JXbE+yek36PX6gcohl/kNanw0vyC6VcC7aUPcZLDP8Qws1EPpiWYZ/pFAf7paqWQzgzn/NLb8xHL+ing6IhCNCEsd+aoZyP1alc6eAjiElPgq4NVjUsOvm9nNlXMrJv4VZBzmGRkDIp7/jxknftnxs8zcS/85kwLAeFflBmov1o=
  - secure: N9teck8Mnmmqy9hZY6NVMeD1mqhFSZLfRgdn4+8uiOpchu7/X5BaynOKMnzk0GfiiGhn3hopWxcVTGFT8u3mgSQRKbtFYK/jGk9yW5aLPjWKc9AENErPIUyko81QHHKnTqrdfAu5LCI7YkbbXqVN+Y0277dwhtsiqO/S1NAYzCM=
  matrix:
  - KITCHEN_INSTANCE='default-debian-7-0-x64'
  - KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: Ort9Jxk2Hdau/3CpVQfRY2s8RQ1fduQ+8mK+pKk0aVVCCQojjk7+WdgjvskJEoKEWKi5ES9E+9YosBAcnyYyVHG+pDRkeiODrgKYq5bgKLnoehEpSQmNJpGHKxHgPvX9hJOaElHI4rfWo4zStGH1G28+GIogSrICWpztW5sMKk0=
